#' @importFrom basilisk BasiliskEnvironment
# geosketchenv <- BasiliskEnvironment(
#     envname = "geosketch", pkgname = "sketchR",
#     packages = c("joblib==1.1.0", "numpy==1.21.5",
#                  "scikit-learn==1.0.2", "scipy==1.7.3", "threadpoolctl==3.0.0"),
#     channels = c("conda-forge"),
#     pip = c("fbpca==1.0", "geosketch==1.2")
# )
#
# scsamplerenv <- BasiliskEnvironment(
#     envname = "scsampler", pkgname = "sketchR",
#     packages = c("numpy==1.21.5", "pandas==1.3.5", "scanpy==1.7.2"),
#     channels = c("bioconda", "conda-forge"),
#     pip = c("scsampler==1.0.2")
# )

## List of packages exported from working environment
.all_deps <- c(
    "_libgcc_mutex==0.1",
    #"_openmp_mutex==4.5",
    "alabaster==0.7.12",
    "anndata==0.7.8",
    "babel==2.9.1",
    "blosc==1.21.0",
    "bottleneck==1.3.4",
    "brotli==1.0.9",
    "brotli-bin==1.0.9",
    "brotlipy==0.7.0",
    "bzip2==1.0.8",
    "ca-certificates==2021.10.8",
    "certifi==2021.10.8",
    "cffi==1.14.6",
    "charset-normalizer==2.0.12",
    "colorama==0.4.4",
    "cryptography==36.0.1",
    "cycler==0.11.0",
    "docutils==0.17.1",
    "dunamai==1.9.0",
    "fonttools==4.29.1",
    "freetype==2.10.4",
    "get_version==3.5.1",
    "giflib==5.2.1",
    "h5py==2.10.0",
    "hdf5==1.10.5",
    "idna==3.3",
    "imagesize==1.3.0",
    "importlib-metadata==4.11.1",
    "importlib_metadata==4.11.1",
    "jbig==2.1",
    "jinja2==3.0.3",
    "joblib==1.1.0",
    "jpeg==9e",
    "kiwisolver==1.3.2",
    "lcms2==2.12",
    "ld_impl_linux-64==2.36.1",
    "legacy-api-wrap==1.2",
    "lerc==3.0",
    "libblas==3.9.0",
    "libbrotlicommon==1.0.9",
    "libbrotlidec==1.0.9",
    "libbrotlienc==1.0.9",
    "libcblas==3.9.0",
    "libdeflate==1.10",
    "libffi==3.3",
    #"libgcc-ng==11.2.0",
    #"libgfortran-ng==11.2.0",
    "libgfortran5==11.2.0",
    #"libgomp==11.2.0",
    "liblapack==3.9.0",
    "libllvm11==11.1.0",
    "libopenblas==0.3.18",
    "libpng==1.6.37",
    #"libstdcxx-ng==11.2.0",
    "libtiff==4.3.0",
    "libwebp==1.2.2",
    "libwebp-base==1.2.2",
    "libxcb==1.13",
    "libzlib==1.2.11",
    "llvmlite==0.38.0",
    "lz4-c==1.9.3",
    "lzo==2.10",
    "markupsafe==2.1.0",
    "matplotlib-base==3.5.1",
    "mock==4.0.3",
    "munkres==1.0.7",
    "natsort==8.1.0",
    "ncurses==6.3",
    "networkx==2.6.3",
    "nomkl==1.0",
    "numba==0.55.1",
    "numexpr==2.8.0",
    "numpy==1.21.5",
    "openjpeg==2.4.0",
    "openssl==1.1.1l",
    "packaging==21.3",
    "pandas==1.3.5",
    "patsy==0.5.2",
    "pillow==9.0.1",
    "pip==22.0.3",
    "pthread-stubs==0.4",
    "pycparser==2.21",
    "pygments==2.11.2",
    "pynndescent==0.5.6",
    "pyopenssl==22.0.0",
    "pyparsing==3.0.7",
    "pysocks==1.7.1",
    "pytables==3.6.1",
    "python==3.7.7",
    "python-dateutil==2.8.2",
    "python_abi==3.7",
    "pytz==2021.3",
    "readline==8.1",
    "requests==2.27.1",
    "scanpy==1.7.2",
    "scikit-learn==1.0.2",
    "scipy==1.7.3",
    "seaborn==0.11.2",
    "seaborn-base==0.11.2",
    "setuptools==60.9.3",
    "setuptools-scm==6.4.2",
    "setuptools_scm==6.4.2",
    "sinfo==0.3.1",
    "six==1.16.0",
    "snowballstemmer==2.2.0",
    "sphinx==4.4.0",
    "sphinxcontrib-applehelp==1.0.2",
    "sphinxcontrib-devhelp==1.0.2",
    "sphinxcontrib-htmlhelp==2.0.0",
    "sphinxcontrib-jsmath==1.0.1",
    "sphinxcontrib-qthelp==1.0.3",
    "sphinxcontrib-serializinghtml==1.1.5",
    "sqlite==3.37.0",
    "statsmodels==0.13.2",
    "stdlib-list==0.7.0",
    "tbb==2021.5.0",
    "threadpoolctl==3.0.0",
    "tk==8.6.12",
    "tomli==2.0.1",
    "tqdm==4.62.3",
    "typing_extensions==4.1.1",
    "umap-learn==0.5.2",
    "unicodedata2==14.0.0",
    "urllib3==1.26.8",
    "wheel==0.37.1",
    "xorg-libxau==1.0.9",
    "xorg-libxdmcp==1.1.3",
    "xz==5.2.5",
    "zipp==3.7.0",
    "zlib==1.2.11",
    "zstd==1.5.2"
)

# universalenv <- BasiliskEnvironment(
#     envname = "universal", pkgname = "sketchR",
#     packages = c("joblib==1.1.0", "numpy==1.21.5",
#                  "scikit-learn==1.0.2", "scipy==1.7.3", "threadpoolctl==3.0.0",
#                  "pandas==1.3.5", "scanpy==1.7.2"),
#     channels = c("bioconda", "conda-forge"),
#     pip = c("fbpca==1.0", "geosketch==1.2", "scsampler==1.0.2")
# )

universalenv <- BasiliskEnvironment(
    envname = "universal", pkgname = "sketchR",
    packages = .all_deps,
    channels = c("bioconda", "conda-forge"),
    pip = c("fbpca==1.0", "geosketch==1.2", "scsampler==1.0.2")
)

